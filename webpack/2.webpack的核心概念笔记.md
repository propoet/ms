###1.什么是loader

- npm i file-loader -D
 ```javascript
 module:{
    rules:[{
      test:/\.jpg$/,
      use:{
        loader:'file-loader'
      }
    }]
  }
```
```javascript
import avator from './avatar.jpg'
var img = new Image()
img.src=avator
const avator = require('./avatar.jpg')
console.log(avator) //返回打包后的文件名
```
- loader 是一个打包方案
- import 获取require 引入的文件结尾不是js,就需要loader 去处理
###2.使用loader打包静态文件（图片）
- file-loader 通过options配置打包后文件的配置
```javascript
 module:{
    rules:[{
      test:/\.jpg|png|gif$/,
      use:{
        loader:'file-loader',
        options: {
          // 占位符 ext后缀， hash
          name: '[name].[hash:8].[ext]',
        // 配置 打包后的输出路径
          outputPath:'images/'
        }
      }
    }]
  }
```
- url-loader
   - url-loader 会把图片转成base64，放到bundle.js里，不单独生成图片文件
```javascript
module:{
    rules:[{
      test:/\.jpg|png|gif$/,
      use:{
        loader:'url-loader',
        options: {
          // 占位符 ext后缀， hash
          name: '[name].[hash:8].[ext]',
          outputPath:'images/',
          limit:10240  // 文件大于10kb会单独打包到文件夹中
        }
      }
    }]
  }
```   
###3.使用loader打包静态文件（样式上）
- style-loader css-loader
```javascript
import './index.css'
img.classList.add('avatar')
```
```javascript
module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader','css-loader']
      }
    ]
  }
```
- sass-loader
   - node-sass sass-loader
```
 {
        test: /\.scss$/,
        use: ['style-loader','css-loader','sass-loader']
      }
```   
- postcss-loader
```
{
        test: /\.scss$/,
        use: ['style-loader','css-loader','sass-loader','postcss-loader']
      }
```
   - npm i autoprefixer -D
   - postcss.config.js
       ```javascript
        module.exports={
          plugins:[
            require('autoprefixer')
          ]
        }
        
        ```
- css-loader 配置
```
{
    test: /\.scss$/,
    use: ['style-loader',
      {
        loader:'css-loader',
        options:{
          importLoaders:2 // 通过import引入的scss走css-loader之前，也要走下面的两个loader
        }
      },
      'sass-loader','postcss-loader']
  }
```

- css打包模块化
   - 只在当前模块有效 modules:true
   ```
    // index.js
      import style from './index.scss'
      img.classList.add(style.avatar)
      // webpack.config.js
      {
          test: /\.scss$/,
          use: ['style-loader',
            {
              loader:'css-loader',
              options:{
                importLoaders:2, // 通过import引入的scss走css-loader之前，也要走下面的两个loader，
                modules:true // 开启css模块化打包
              }
            },
            'sass-loader','postcss-loader']
        }
    ```

###4.使用loader打包静态文件（样式下）
- 打包字体文件   file-loader
```
{
    test: /\.eot|ttf|svg$/,
    use: {
      loader: 'file-loader',
      options: {
        name: '[name]_[hash:8].[ext]',
        outputPath: 'font/'
      }
    }
  }
```
###5.使用 plugins 让打包更便捷
- plugins 可以在webpack运行到某一时刻的时候，帮你做一些事情
- npm i html-webpack-plugin -D 会在打包结束后自动生成一个index.html,并把打包生成的js自动引入到html中
```javascript
const htmlWebpackPlugin = require('html-webpack-plugin')

plugins:[
    new htmlWebpackPlugin({
      template:'src/index.html' //模板位置
    })
  ]
```
- npm i clean-webpack-plugin -D  清除指定文件夹下内容 
```
// 错误写法
const cleanWebpackPlugin = require('clean-webpack-plugin')
plugins:[
    new cleanWebpackPlugin(['dist'])
  ]

// 正确写法
const { CleanWebpackPlugin } = require('clean-webpack-plugin')
 plugins:[
  new CleanWebpackPlugin(),
  ]
```
###6. Entry 与 Output 的基础配置
- entry
```
entry: {
    main: './src/index.js' // 不配置output中filename,默认打包生成main.js
  }
```
- 多入口 与 静态资源在cdn上的配置
```
entry: {
    main: './src/index.js',
    sub: './src/index2.js'
  },
  output: {
    publicPath:'http://cdn.com.cn',
    filename: '[name].bundle.js',
    path: path.resolve(__dirname, 'dist')
  },
```
###7. SourceMap 的配置
###8. 使用 WebpackDevServer 提升开发效率
###9. Hot Module Replacement 热模块更新（1）
###10. Hot Module Replacement 热模块更新（2）
###11. 使用 Babel 处理 ES6 语法（1）
###12. 使用 Babel 处理 ES6 语法（2）
###13. Webpack 实现对React框架代码的打包
